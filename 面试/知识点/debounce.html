<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Caching</title>
    <style>
      .a {
        position: relative;
        height: 200px;
        background: #dee;
        margin: 50px 0;
        
      }
      .b {
        width: 100px;
        height: 100px;
        background: red;
      }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="a">
      <div class="b">b</div>
    </div>
    
  </body>
  <script>
    // 防抖函数
    function deBounce(func, time) {
        let timer
        return (...args) => {
            if (timer) {
                clearTimeout(timer)
            }
            timer = setTimeout(() => {
              func(...args)
              clearTimeout(timer)
              timer = null
            }, time);
        }
    }

    // 节流函数
    function throttle(func, time) {
        let timer
        return (...args) => {
            if (timer) {
                return
            } else {
              timer = setTimeout(() => {
                func(...args)
                clearTimeout(timer)
                timer = null
              }, time);
            }
        }
    }

    function cb(msg) {console.log(msg || 'waw')}
    const newCb = throttle(cb, 2000)
    const ele = document.getElementsByClassName('b')[0]
    ele.addEventListener("click", () => newCb(666))
  </script>
</html>