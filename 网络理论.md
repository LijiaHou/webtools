## 当你在浏览器的地址栏输入一个 baidu.com ，发生了什么

1.DNS解析，找到IP地址
2.IP地址，找到服务器
3.通过端口，找到对应的网页服务
4.建立TCP链接 ，三次握手



## 当访问jd.com/index.html时，F12查看抓包

​	1.浏览器请求index.html

​    2.服务器响应index.html

​	3.在index.html中有link标签，script标签，img标签...

​		这些标签也会发出请求，服务器也会响应

​	4.浏览器拿到所有的资源渲染一个完整的网页



# Http版本



## Http1.0

Http1.0默认使用`Connection：cloose`，浏览器每次请求都需要与服务器建立一次连接，服务器处理完请求立刻断开TCP连接（无连接），服务求也不记录客户端过去的请求（无状态）



## Http1.1（普遍使用）

Http1.1默认使用`Connection：keep-alive`（**长连接**），避免了简历和释放的开销

​	**特点：**

​		keep-alive，只要两端没有提出断开连接，则一直保持连接状态

​		减少了TCP连接的重复建立和断开所造成的额外开销，减少了服务端的压力

​		持久连接使多数请求以管线化方式成为可能，可同时并行发出多个请求，而不需要一个接一个等待响应了

​	**缺陷：**

​		高延迟，带来页面加载速度的降低。（队头阻塞，导致带宽无法被充分利用）

​		无状态特性，带来巨大的Http头部

​		明文传输不安全

​		不支持服务端推送



## Http2.0

Http2.0基于谷歌提出的SPDY协议，发布于2015年，主要解决了1.1效率不高的问题

​	**新特性：**

​		1.二进制传输

​		2.Header压缩

​		3.多路复用

​			很好解决了浏览器限制同一个域名下的请求数量的问题，只通过一个TCP连接就可以传输所有的请求数据

​		4.服务端推送

​			一定程度上改变了传统的“请求-应答”工作模式。（例如，浏览器在刚请求html的时候就提前把可能会用到的JS，Css文件发送给客户端，减少等待延迟）

​	**缺点：**

​		1.TCP以及TCP+TLS建立连接的延迟

​		2.TCP队头阻塞没有彻底解决（2.0中，多个请求是跑在一个管道的，一旦丢包，TCP就要等待这个包重传，从而阻塞改连接中所有的请求）



## Http3.0

基于UDP协议的QUIC协议，让Http跑在QUIC上，解决了“队头阻塞的问题”





# Http请求方法

## GET和POST请求的区别

**从 http 协议的角度**来说，GET 和 POST 它们都只是请求行中的第一个单词，**除了语义不同，其实没有本质的区别**。之所以在实际开发中会产生各种区别，主要是因为浏览器的默认行为造成的。
- 浏览器在发送 GET 请求时，不会附带请求体
- get请求，数据放在url，url长度是有限的，所以get请求传递给服务器的数据大小也有限，而post传递的数据理论上可以无限大
- get请求只能发送ASCII字符数据，post请求能发更多的数据类型
- post更安全：get请求时把数据放在url上，每个人都能看到，相对来说不安全
- get请求会进行数据缓存，post没有（？？）
- get可以通过浏览器的地址栏直接发送而且可以保存书签，而post不能



# Http响应状态码

1.信息响应（100-199）

2.成功响应（200-299）

3.重定向消息（300-399）

4.客户端错误响应（400-499）

5.服务端错误（500-599）



# 同源策略

同源：协议、域名、端口都一样

注意：

发送Ajax请求是要受到同源策略影响的

而html中的 <img>、<link>、<script>、<a>标签都是**不受**同源策略影响